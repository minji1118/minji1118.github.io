<!DOCTYPE html>
<html>
<head>
    <title>회원가입</title>
</head>
<body>
<h1>회원가입</h1>
<input id="username" placeholder="아이디">
<input id="password" type="password" placeholder="비밀번호">
<button onclick="signup()">회원가입</button>
<p id="msg"></p>
<p><a href="/login_page">로그인</a></p>

<script>
function signup(){
    const username = document.getElementById("username").value;
    const password = document.getElementById("password").value;

    fetch("/signup", {
        method:"POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify({username, password})
    })
    .then(res=>res.json())
    .then(data=>{
        document.getElementById("msg").innerText = data.message;
        if(data.message === "회원가입 성공"){
            setTimeout(()=>{window.location.href="/login_page"}, 1000);
        }
    });
}
</script>
</body>
</html>
